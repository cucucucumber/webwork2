"use strict";function graphTool(e,t){if(!document.getElementById(e+"_graph")){var b={};b.snapSizeX=t.snapSizeX?t.snapSizeX:1,b.snapSizeY=t.snapSizeY?t.snapSizeY:1,b.isStatic="isStatic"in t&&t.isStatic;var o=t.availableTools?t.availableTools:["LineTool","CircleTool","VerticalParabolaTool","HorizontalParabolaTool","FillTool","SolidDashTool"];b.fillIcon="data:image/svg+xml,%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' id='SVGRoot' version='1.1' viewBox='0 0 32 32' height='32px' width='32px'%3E%3Cdefs id='defs815' /%3E%3Cmetadata id='metadata818'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cg id='layer1'%3E%3Cpath id='path1382' d='m 13.466084,10.267728 -4.9000003,8.4 4.9000003,4.9 8.4,-4.9 z' style='opacity:1;fill:%23ffffff;fill-opacity:1;stroke:%23000000;stroke-width:1.3;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none' /%3E%3Cpath id='path1384' d='M 16.266084,15.780798 V 6.273173' style='fill:none;stroke:%23000000;stroke-width:1.38;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3E%3Cpath id='path1405' d='m 20,16 c 0,0 2,-1 3,0 1,0 1,1 2,2 0,1 0,2 0,3 0,1 0,2 0,2 0,0 -1,0 -1,0 -1,-1 -1,-1 -1,-2 0,-1 0,-1 -1,-2 0,-1 0,-2 -1,-2 -1,-1 -2,-1 -1,-1 z' style='fill:%230900ff;fill-opacity:1;stroke:%23000000;stroke-width:0.7px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E%3C/g%3E%3C/svg%3E",b.fillIconFocused="data:image/svg+xml,%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' id='SVGRoot' version='1.1' viewBox='0 0 32 32' height='32px' width='32px'%3E%3Cdefs id='defs815' /%3E%3Cmetadata id='metadata818'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cg id='layer1'%3E%3Cpath id='path1382' d='m 13.466084,10.267728 -4.9000003,8.4 4.9000003,4.9 8.4,-4.9 z' style='opacity:1;fill:%2300ff00;fill-opacity:1;stroke:%23000000;stroke-width:1.3;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none' /%3E%3Cpath id='path1384' d='M 16.266084,15.780798 V 6.273173' style='fill:none;stroke:%23000000;stroke-width:1.38;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3E%3Cpath id='path1405' d='m 20,16 c 0,0 2,-1 3,0 1,0 1,1 2,2 0,1 0,2 0,3 0,1 0,2 0,2 0,0 -1,0 -1,0 -1,-1 -1,-1 -1,-2 0,-1 0,-1 -1,-2 0,-1 0,-2 -1,-2 -1,-1 -2,-1 -1,-1 z' style='fill:%230900ff;fill-opacity:1;stroke:%23000000;stroke-width:0.7px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E%3C/g%3E%3C/svg%3E","htmlInputId"in t&&(b.html_input=document.getElementById(t.htmlInputId));var i={showCopyright:!1,pan:{enabled:!1},zoom:{enabled:!1},showNavigation:!1,boundingBox:[-10,10,10,-10],defaultAxes:{},axis:{ticks:{label:{highlight:!1},insertTicks:!1,ticksDistance:2,minorTicks:1,minorHeight:6,majorHeight:6,tickEndings:[1,1]},highlight:!1,firstArrow:{size:7},lastArrow:{size:7},straightFirst:!1,straightLast:!1},grid:{gridX:b.snapSizeX,gridY:b.snapSizeY}};"JSXGraphOptions"in t&&$.extend(!0,i,i,t.JSXGraphOptions),b.snapRound=function(t,e){return Math.round(Math.round(t/e)*e*1e5)/1e5},b.setTextCoords=function(t,e){b.current_pos_text.setText("("+b.snapRound(t,b.snapSizeX)+", "+b.snapRound(e,b.snapSizeY)+")")},b.updateText=function(){b.html_input.value=b.graphedObjs.reduce(function(t,e){return t+(t.length?",":"")+"{"+e.stringify()+"}"},"")},b.getMouseCoords=function(t){var e;t[JXG.touchProperty]&&(e=0);var o=b.board.getCoordsTopLeftCorner(),i=JXG.getPosition(t,e),r=i[0]-o[0],n=i[1]-o[1];return new JXG.Coords(JXG.COORDS_BY_SCREEN,[r,n],b.board)},b.sign=function(t){return t=+t,Math.abs(t)<JXG.Math.eps?0:0<t?1:-1},b.pointRegexp=/\( *(-?[0-9]*(?:\.[0-9]*)?), *(-?[0-9]*(?:\.[0-9]*)?) *\)/g,b.pairedPointDrag=function(t){if(this.X()==this.paired_point.X()&&this.Y()==this.paired_point.Y()){var e=b.getMouseCoords(t),o=e.usrCoords[1]-this.paired_point.X(),i=e.usrCoords[2]-this.paired_point.Y();i>Math.abs(o)?this.setPosition(JXG.COORDS_BY_USER,[this.X(),this.Y()+b.snapSizeY]):o>Math.abs(i)?this.setPosition(JXG.COORDS_BY_USER,[this.X()+b.snapSizeX,this.Y()]):o<-Math.abs(i)?this.setPosition(JXG.COORDS_BY_USER,[this.X()-b.snapSizeX,this.Y()]):this.setPosition(JXG.COORDS_BY_USER,[this.X(),this.Y()-b.snapSizeY])}b.updateObjects(),b.updateText()},b.pairedPointDragRestricted=function(t){var e=b.getMouseCoords(t),o=this.X(),i=this.Y();this.X()==this.paired_point.X()&&(e.usrCoords[1]>this.paired_point.X()?o+=b.snapSizeX:o-=b.snapSizeX),this.Y()==this.paired_point.Y()&&(e.usrCoords[2]>this.paired_point.Y()?i+=b.snapSizeX:i-=b.snapSizeX),this.X()!=this.paired_point.X()&&this.Y()!=this.paired_point.Y()||this.setPosition(JXG.COORDS_BY_USER,[o,i]),b.updateObjects(),b.updateText()},b.createPoint=function(t,e,o,i){var r=b.board.create("point",[t,e],{size:2,snapToGrid:!0,snapSizeX:b.snapSizeX,snapSizeY:b.snapSizeY,withLabel:!1});return r.on("down",function(){b.board.containerObj.style.cursor="none"}),r.on("up",function(){b.board.containerObj.style.cursor="auto"}),void 0!==o&&((r.paired_point=o).paired_point=r,o.on("drag",i?b.pairedPointDragRestricted:b.pairedPointDrag),r.on("drag",i?b.pairedPointDragRestricted:b.pairedPointDrag)),r},b.updateObjects=function(){b.graphedObjs.forEach(function(t){t.update()}),b.staticObjs.forEach(function(t){t.update()})},a.prototype.blur=function(){Object.values(this.definingPts).forEach(function(t){t.setAttribute({visible:!1})}),this.baseObj.setAttribute({strokeColor:"blue"})},a.prototype.focus=function(){Object.values(this.definingPts).forEach(function(t){t.setAttribute({visible:!0})}),this.baseObj.setAttribute({strokeColor:"orange"}),b.drawSolid=0==this.baseObj.getAttribute("dash"),"solidButton"in b&&b.solidButton.prop("disabled",b.drawSolid),"dashedButton"in b&&b.dashedButton.prop("disabled",!b.drawSolid)},a.prototype.update=function(){},a.prototype.fillCmp=function(t){return 1},a.prototype.remove=function(){Object.values(this.definingPts).forEach(function(t){b.board.removeObject(t)}),b.board.removeObject(this.baseObj)},a.prototype.setSolid=function(t){this.baseObj.setAttribute({dash:t?0:2})},a.prototype.stringify=function(){return""},a.prototype.id=function(){return this.baseObj.id},a.prototype.on=function(t,e,o){this.baseObj.on(t,e,o)},a.prototype.off=function(t,e){this.baseObj.off(t,e)},a.prototype.onResize=function(){},a.prototype.updateTextCoords=function(e){return!Object.keys(this.definingPts).every(function(t){return!this[t].hasPoint(e.scrCoords[1],e.scrCoords[2])||(b.setTextCoords(this[t].X(),this[t].Y()),!1)},this.definingPts)},a.restore=function(t){var e=t.match(/^(.*?),(.*)/);if(e.length<3)return!1;var o=!1;return Object.keys(b.graphObjectTypes).every(function(t){return e[1]!=b.graphObjectTypes[t].strId||(o=b.graphObjectTypes[t].restore(e[2]),!1)}),!1!==o&&o.blur(),o},p.prototype=Object.create(a.prototype),Object.defineProperty(p.prototype,"constructor",{value:p,enumerable:!1,writable:!0}),p.prototype.stringify=function(){return[p.strId,0==this.baseObj.getAttribute("dash")?"solid":"dashed","("+b.snapRound(this.definingPts.point1.X(),b.snapSizeX)+","+b.snapRound(this.definingPts.point1.Y(),b.snapSizeY)+")","("+b.snapRound(this.definingPts.point2.X(),b.snapSizeX)+","+b.snapRound(this.definingPts.point2.Y(),b.snapSizeY)+")"].join(",")},p.prototype.fillCmp=function(t){return b.sign(JXG.Math.innerProduct(t,this.baseObj.stdform))},p.strId="line",p.restore=function(t){for(var e,o=[];e=b.pointRegexp.exec(t);)o.push(e.slice(1,3));if(o.length<2)return!1;var i=b.createPoint(parseFloat(o[0][0]),parseFloat(o[0][1])),r=b.createPoint(parseFloat(o[1][0]),parseFloat(o[1][1]),i);return new b.graphObjectTypes.line(i,r,/solid/.test(t),"blue")},d.prototype=Object.create(a.prototype),Object.defineProperty(d.prototype,"constructor",{value:d,enumerable:!1,writable:!0}),d.prototype.stringify=function(){return[d.strId,0==this.baseObj.getAttribute("dash")?"solid":"dashed","("+b.snapRound(this.definingPts.center.X(),b.snapSizeX)+","+b.snapRound(this.definingPts.center.Y(),b.snapSizeY)+")","("+b.snapRound(this.definingPts.point.X(),b.snapSizeX)+","+b.snapRound(this.definingPts.point.Y(),b.snapSizeY)+")"].join(",")},d.prototype.fillCmp=function(t){return b.sign(this.baseObj.stdform[3]*(t[1]*t[1]+t[2]*t[2])+JXG.Math.innerProduct(t,this.baseObj.stdform))},d.strId="circle",d.restore=function(t){for(var e,o=[];e=b.pointRegexp.exec(t);)o.push(e.slice(1,3));if(o.length<2)return!1;var i=b.createPoint(parseFloat(o[0][0]),parseFloat(o[0][1])),r=b.createPoint(parseFloat(o[1][0]),parseFloat(o[1][1]),i);return new b.graphObjectTypes.circle(i,r,/solid/.test(t),"blue")},u.prototype=Object.create(a.prototype),Object.defineProperty(u.prototype,"constructor",{value:u,enumerable:!1,writable:!0}),u.prototype.stringify=function(){return[u.strId,0==this.baseObj.getAttribute("dash")?"solid":"dashed",this.vertical?"vertical":"horizontal","("+b.snapRound(this.definingPts.vertex.X(),b.snapSizeX)+","+b.snapRound(this.definingPts.vertex.Y(),b.snapSizeY)+")","("+b.snapRound(this.definingPts.point.X(),b.snapSizeX)+","+b.snapRound(this.definingPts.point.Y(),b.snapSizeY)+")"].join(",")},u.prototype.fillCmp=function(t){return this.vertical?b.sign(t[2]-this.baseObj.Y(t[1])):b.sign(t[1]-this.baseObj.X(t[2]))},u.strId="parabola",u.restore=function(t){for(var e,o=[];e=b.pointRegexp.exec(t);)o.push(e.slice(1,3));if(o.length<2)return!1;var i=b.createPoint(parseFloat(o[0][0]),parseFloat(o[0][1])),r=b.createPoint(parseFloat(o[1][0]),parseFloat(o[1][1]),i,!0);return new b.graphObjectTypes.parabola(i,r,/vertical/.test(t),/solid/.test(t),"blue")},h.prototype=Object.create(a.prototype),Object.defineProperty(h.prototype,"constructor",{value:h,enumerable:!1,writable:!0}),h.prototype.blur=function(){this.focused=!1,this.definingPts.icon.setAttribute({fixed:!0})},h.prototype.focus=function(){this.focused=!0,this.definingPts.icon.setAttribute({fixed:!1})},h.prototype.on=function(t,e,o){this.definingPts.icon.on(t,e,o)},h.prototype.off=function(t,e){this.definingPts.icon.off(t,e)},h.prototype.remove=function(){"fillObj"in this&&b.board.removeObject(this.fillObj),a.prototype.remove.call(this)},h.prototype.update=function(){if(!this.isStatic){this.updateTimeout&&clearTimeout(this.updateTimeout);var h=this;this.updateTimeout=setTimeout(function(){h.updateTimeout=0,"fillObj"in h&&(b.board.removeObject(h.fillObj),delete h.fillObj);for(var t=h.definingPts.point.coords.usrCoords,r=b.graphedObjs.concat(b.staticObjs),n=Array(r.length),e=0;e<r.length;++e)if(n[e]=r[e].fillCmp(t),0==n[e])return;var o=document.createElement("canvas");o.width=b.board.canvasWidth,o.height=b.board.canvasHeight;for(var i,s=o.getContext("2d"),a=s.getImageData(0,0,o.width,o.height),p=function(t,e){for(var o=[1,(t-b.board.origin.scrCoords[1])/b.board.unitX,(b.board.origin.scrCoords[2]-e)/b.board.unitY],i=0;i<r.length;++i)if(r[i].fillCmp(o)!=n[i])return!1;return!0},d=0;d<o.width;++d)for(var c=0;c<o.height;++c)p(d,c)&&(i=4*(c*o.width+d),a.data[i]=255,a.data[i+1]=255,a.data[i+2]=150,a.data[i+3]=255);s.putImageData(a,0,0);var l=o.toDataURL("image/png");o.remove();var u=b.board.getBoundingBox();h.fillObj=b.board.create("image",[l,[u[0],u[3]],[u[2]-u[0],u[1]-u[3]]],{withLabel:!1,highlight:!1,fixed:!0,layer:0})},100)}},h.prototype.onResize=function(){this.definingPts.icon.setPosition(JXG.COORDS_BY_USER,[this.definingPts.point.X()-12/b.board.unitX,this.definingPts.point.Y()-12/b.board.unitY]),b.board.update()},h.prototype.updateTextCoords=function(t){return!!this.definingPts.point.hasPoint(t.scrCoords[1],t.scrCoords[2])&&(b.setTextCoords(this.definingPts.point.X(),this.definingPts.point.Y()),!0)},h.prototype.stringify=function(){return[h.strId,"("+b.snapRound(this.baseObj.X(),b.snapSizeX)+","+b.snapRound(this.baseObj.Y(),b.snapSizeY)+")"].join(",")},h.strId="fill",h.restore=function(t){for(var e,o=[];e=b.pointRegexp.exec(t);)o.push(e.slice(1,3));return!!o.length&&new b.graphObjectTypes.fill(b.createPoint(parseFloat(o[0][0]),parseFloat(o[0][1])))},b.graphObjectTypes={},b.graphObjectTypes[p.strId]=p,b.graphObjectTypes[u.strId]=u,b.graphObjectTypes[d.strId]=d,b.graphObjectTypes[h.strId]=h,"customGraphObjects"in t&&Object.keys(t.customGraphObjects).forEach(function(t){var e,i=this[t],o="parent"in i?i.parent?b.graphObjectTypes[i.parent]:null:a;o?((e=function(){"preInit"in i?o.call(this,i.preInit.apply(this,[b].concat(Array.prototype.slice.call(arguments)))):o.apply(this,arguments),"postInit"in i&&i.postInit.apply(this,[b].concat(Array.prototype.slice.call(arguments)))}).prototype=Object.create(o.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,enumerable:!1,writable:!0})):e=function(){i.preInit.apply(this,[b].concat(Array.prototype.slice.call(arguments)))},"blur"in i&&(e.prototype.blur=function(){i.blur.call(this,b)&&o&&o.prototype.blur.call(this)}),"focus"in i&&(e.prototype.focus=function(){i.focus.call(this,b)&&o&&o.prototype.focus.call(this)}),"update"in i&&(e.prototype.update=function(){i.update.call(this,b)}),"onResize"in i&&(e.prototype.onResize=function(){i.onResize.call(this,b)}),"updateTextCoords"in i&&(e.prototype.updateTextCoords=function(t){return i.updateTextCoords.call(this,b,t)}),"fillCmp"in i&&(e.prototype.fillCmp=function(t){return i.fillCmp.call(this,b,t)}),"remove"in i&&(e.prototype.remove=function(){i.remove.call(this,b),o&&o.prototype.remove.call(this)}),"setSolid"in i&&(e.prototype.setSolid=function(t){i.setSolid.call(this,b,t)}),"on"in i&&(e.prototype.on=function(t,e,o){i.on.call(this,t,e,o)}),"off"in i&&(e.prototype.off=function(t,e){i.off.call(this,t,e)}),"stringify"in i&&(e.prototype.stringify=function(){return[e.strId,i.stringify.call(this,b)].join(",")}),"restore"in i?e.restore=function(t){return i.restore.call(this,b,t)}:o&&(e.restore=o.restore),"helperMethods"in i&&Object.keys(i.helperMethods).forEach(function(t){e[t]=function(){return i.helperMethods[t].apply(this,[b].concat(Array.prototype.slice.call(arguments)))}}),e.strId=t,b.graphObjectTypes[e.strId]=e},t.customGraphObjects),f.prototype.activate=function(){b.activeTool.deactivate(),(b.activeTool=this).button.blur(),this.button.prop("disabled",!0),b.selectedObj&&b.selectedObj.blur(),b.selectedObj=null},f.prototype.finish=function(){b.updateObjects(),b.updateText(),b.board.update(),b.selectTool.activate()},f.prototype.updateHighlights=function(t){return!1},f.prototype.removeHighlights=function(){Object.keys(this.hlObjs).forEach(function(t){b.board.removeObject(this[t]),delete this[t]},this.hlObjs)},f.prototype.deactivate=function(){this.button.prop("disabled",!1),this.removeHighlights()},g.prototype=Object.create(f.prototype),Object.defineProperty(g.prototype,"constructor",{value:g,enumerable:!1,writable:!0}),g.prototype.selectionChanged=function(t){if(b.selectedObj){if(b.selectedObj.id()==this.gtGraphObject.id())return;for(var e=b.getMouseCoords(t),o=Object.values(b.selectedObj.definingPts),i=0;i<o.length;++i)if(o[i].X()==b.snapRound(e.usrCoords[1],b.snapSizeX)&&o[i].Y()==b.snapRound(e.usrCoords[2],b.snapSizeY))return;b.selectedObj.blur()}b.selectedObj=this.gtGraphObject,b.selectedObj.focus()},g.prototype.activate=function(t){var e=b.selectedObj;f.prototype.activate.call(this),e&&(b.selectedObj=e),t||1!=b.graphedObjs.length||(b.selectedObj=b.graphedObjs[0]),b.selectedObj&&b.selectedObj.focus(),b.graphedObjs.forEach(function(t){t.on("down",this.selectionChanged)},this)},g.prototype.deactivate=function(){b.graphedObjs.forEach(function(t){t.off("down",this.selectionChanged)},this),f.prototype.deactivate.call(this)},y.prototype=Object.create(f.prototype),Object.defineProperty(y.prototype,"constructor",{value:y,enumerable:!1,writable:!0}),y.prototype.updateHighlights=function(t){return"hl_line"in this.hlObjs&&this.hlObjs.hl_line.setAttribute({dash:b.drawSolid?0:2}),void 0!==t&&(!("point1"in this&&b.snapRound(t.usrCoords[1],b.snapSizeX)==this.point1.X()&&b.snapRound(t.usrCoords[2],b.snapSizeY)==this.point1.Y())&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=b.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:b.snapSizeX,snapSizeY:b.snapSizeY,withLabel:!1}),"point1"in this&&(this.hlObjs.hl_line=b.board.create("line",[this.point1,this.hlObjs.hl_point],{fixed:!0,strokeColor:"orange",highlight:!1,dash:b.drawSolid?0:2}))),b.setTextCoords(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),b.board.update(),!0))},y.prototype.deactivate=function(){b.board.off("up"),"point1"in this&&b.board.removeObject(this.point1),delete this.point1,b.board.containerObj.style.cursor="auto",f.prototype.deactivate.call(this)},y.prototype.activate=function(){f.prototype.activate.call(this),b.board.containerObj.style.cursor="none";var o=this;b.board.on("up",function(t){var e=b.getMouseCoords(t);b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),o.point1=b.board.create("point",[e.usrCoords[1],e.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:b.snapSizeX,snapSizeY:b.snapSizeY,withLabel:!1}),o.point1.setAttribute({fixed:!0}),o.removeHighlights(),b.board.on("up",function(t){var e=b.getMouseCoords(t);o.point1.X()==b.snapRound(e.usrCoords[1],b.snapSizeX)&&o.point1.Y()==b.snapRound(e.usrCoords[2],b.snapSizeY)||!b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])||(b.board.off("up"),o.point1.setAttribute({fixed:!1}),o.point1.on("down",function(){b.board.containerObj.style.cursor="none"}),o.point1.on("up",function(){b.board.containerObj.style.cursor="auto"}),b.selectedObj=new b.graphObjectTypes.line(o.point1,b.createPoint(e.usrCoords[1],e.usrCoords[2],o.point1),b.drawSolid),b.graphedObjs.push(b.selectedObj),delete o.point1,o.finish())}),b.board.update())})},O.prototype=Object.create(f.prototype),Object.defineProperty(O.prototype,"constructor",{value:O,enumerable:!1,writable:!0}),O.prototype.updateHighlights=function(t){return"hl_circle"in this.hlObjs&&this.hlObjs.hl_circle.setAttribute({dash:b.drawSolid?0:2}),void 0!==t&&(!("center"in this&&b.snapRound(t.usrCoords[1],b.snapSizeX)==this.center.X()&&b.snapRound(t.usrCoords[2],b.snapSizeY)==this.center.Y())&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=b.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:b.snapSizeX,snapSizeY:b.snapSizeY,withLabel:!1}),"center"in this&&(this.hlObjs.hl_circle=b.board.create("circle",[this.center,this.hlObjs.hl_point],{fixed:!0,strokeColor:"orange",highlight:!1,dash:b.drawSolid?0:2}))),b.setTextCoords(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),b.board.update(),!0))},O.prototype.deactivate=function(){b.board.off("up"),"center"in this&&b.board.removeObject(this.center),delete this.center,b.board.containerObj.style.cursor="auto",f.prototype.deactivate.call(this)},O.prototype.activate=function(){f.prototype.activate.call(this),b.board.containerObj.style.cursor="none";var o=this;b.board.on("up",function(t){var e=b.getMouseCoords(t);b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),o.center=b.board.create("point",[e.usrCoords[1],e.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:b.snapSizeX,snapSizeY:b.snapSizeY,withLabel:!1}),o.center.setAttribute({fixed:!0}),o.removeHighlights(),b.board.on("up",function(t){var e=b.getMouseCoords(t);o.center.X()==b.snapRound(e.usrCoords[1],b.snapSizeX)&&o.center.Y()==b.snapRound(e.usrCoords[2],b.snapSizeY)||!b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])||(b.board.off("up"),o.center.setAttribute({fixed:!1}),o.center.on("down",function(){b.board.containerObj.style.cursor="none"}),o.center.on("up",function(){b.board.containerObj.style.cursor="auto"}),b.selectedObj=new b.graphObjectTypes.circle(o.center,b.createPoint(e.usrCoords[1],e.usrCoords[2],o.center),b.drawSolid),b.graphedObjs.push(b.selectedObj),delete o.center,o.finish())}),b.board.update())})},j.prototype=Object.create(f.prototype),Object.defineProperty(j.prototype,"constructor",{value:j,enumerable:!1,writable:!0}),j.prototype.updateHighlights=function(t){return"hl_parabola"in this.hlObjs&&this.hlObjs.hl_parabola.setAttribute({dash:b.drawSolid?0:2}),void 0!==t&&((!("vertex"in this)||b.snapRound(t.usrCoords[1],b.snapSizeX)!=this.vertex.X()&&b.snapRound(t.usrCoords[2],b.snapSizeY)!=this.vertex.Y())&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=b.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:b.snapSizeX,snapSizeY:b.snapSizeY,highlight:!1,withLabel:!1}),"vertex"in this&&(this.hlObjs.hl_parabola=l(this.vertex,this.hlObjs.hl_point,this.vertical,b.drawSolid,"orange"))),b.setTextCoords(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),b.board.update(),!0))},j.prototype.deactivate=function(){b.board.off("up"),"vertex"in this&&b.board.removeObject(this.vertex),delete this.vertex,b.board.containerObj.style.cursor="auto",f.prototype.deactivate.call(this)},j.prototype.activate=function(){f.prototype.activate.call(this),b.board.containerObj.style.cursor="none";var o=this;b.board.on("up",function(t){var e=b.getMouseCoords(t);b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),o.vertex=b.board.create("point",[e.usrCoords[1],e.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:b.snapSizeX,snapSizeY:b.snapSizeY,withLabel:!1}),o.vertex.setAttribute({fixed:!0}),o.removeHighlights(),b.board.on("up",function(t){var e=b.getMouseCoords(t);o.vertex.X()!=b.snapRound(e.usrCoords[1],b.snapSizeX)&&o.vertex.Y()!=b.snapRound(e.usrCoords[2],b.snapSizeY)&&b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),o.vertex.setAttribute({fixed:!1}),o.vertex.on("down",function(){b.board.containerObj.style.cursor="none"}),o.vertex.on("up",function(){b.board.containerObj.style.cursor="auto"}),b.selectedObj=new b.graphObjectTypes.parabola(o.vertex,b.createPoint(e.usrCoords[1],e.usrCoords[2],o.vertex,!0),o.vertical,b.drawSolid),b.graphedObjs.push(b.selectedObj),delete o.vertex,o.finish())}),b.board.update())})},v.prototype=Object.create(j.prototype),Object.defineProperty(v.prototype,"constructor",{value:v,enumerable:!1,writable:!0}),C.prototype=Object.create(j.prototype),Object.defineProperty(C.prototype,"constructor",{value:C,enumerable:!1,writable:!0}),m.prototype=Object.create(f.prototype),Object.defineProperty(m.prototype,"constructor",{value:m,enumerable:!1,writable:!0}),m.prototype.updateHighlights=function(t){return void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[b.snapRound(t.usrCoords[1],b.snapSizeX)-12/b.board.unitX,b.snapRound(t.usrCoords[2],b.snapSizeY)-12/b.board.unitY]):this.hlObjs.hl_point=b.board.create("image",[b.fillIcon,[b.snapRound(t.usrCoords[1],b.snapSizeX)-12/b.board.unitX,b.snapRound(t.usrCoords[2],b.snapSizeY)-12/b.board.unitY],[24/b.board.unitX,24/b.board.unitY]],{withLabel:!1,highlight:!1,layer:9}),b.setTextCoords(t.usrCoords[1],t.usrCoords[2]),b.board.update(),!0)},m.prototype.deactivate=function(){b.board.off("up"),b.board.containerObj.style.cursor="auto",f.prototype.deactivate.call(this)},m.prototype.activate=function(){f.prototype.activate.call(this),b.board.containerObj.style.cursor="none",b.board.on("up",function(t){b.board.off("up");var e=b.getMouseCoords(t);b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),b.selectedObj=new b.graphObjectTypes.fill(b.createPoint(e.usrCoords[1],e.usrCoords[2])),b.graphedObjs.push(b.selectedObj),b.updateText(),b.board.update(),b.selectTool.activate())})},b.toolTypes={LineTool:y,CircleTool:O,VerticalParabolaTool:v,HorizontalParabolaTool:C,FillTool:m,SolidDashTool:function(t){var e=$("<div class='gt-solid-dash-box'></div>");b.solidButton=$("<button type=button class='btn gt-button gt-tool-button gt-solid-tool' data-tooltip='Make Selected Object Solid' disabled>&nbsp;</button>").on("click",{solid:!0},S),e.append(b.solidButton),b.dashedButton=$("<button type=button class='btn gt-button gt-tool-button gt-dashed-tool' data-tooltip='Make Selected Object Dashed'>&nbsp;</button>").on("click",{solid:!1},S),e.append(b.dashedButton),t.append(e)}};var r=$("#"+e),n=$("<div id='"+e+"_graph' class='jxgbox graphtool-graph'></div>");if(r.append(n),!b.isStatic){var s=$("<div class='gt-toolbar-container'></div>");b.selectTool=new g(s),"customTools"in t&&Object.keys(t.customTools).forEach(function(t){var e,o=this[t],i="parent"in o?o.parent?b.toolTypes[o.parent]:null:f;i?((e=function(t){i.call(this,t,o.iconName,o.tooltip),"initialize"in o&&o.initialize.call(this,b,t)}).prototype=Object.create(i.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,enumerable:!1,writable:!0})):e=function(){o.initialize.call(this,b,container)},"activate"in o&&(e.prototype.activate=function(){i.prototype.activate.call(this),o.activate.call(this,b)}),"deactivate"in o&&(e.prototype.deactivate=function(){o.deactivate.call(this,b),i.prototype.deactivate.call(this)}),"updateHighlights"in o&&(e.prototype.updateHighlights=function(t){return o.updateHighlights.call(this,b,t)}),"removeHighlights"in o&&(e.prototype.removeHighlights=function(){o.removeHighlights.call(this,b),i.prototype.removeHighlights.call(this)}),"helperMethods"in o&&Object.keys(o.helperMethods).forEach(function(t){e[t]=function(){return o.helperMethods[t].apply(this,[b].concat(Array.prototype.slice.call(arguments)))}}),b.toolTypes[t]=e},t.customTools),o.forEach(function(t){t in b.toolTypes?new b.toolTypes[t](s):console.log("Unknown tool: "+t)}),s.append($("<button type=button class='btn gt-button' data-tooltip='Delete Selected Object'>Delete</button>").on("click",function(){this.blur(),b.selectedObj&&$("<div>Do you want to delete the selected object?</div>").dialog({title:"Delete Selected Object",width:"auto",height:"auto",modal:!0,resizable:!1,buttons:{Yes:function(){for(var t=0;t<b.graphedObjs.length;++t)if(b.graphedObjs[t].id()===b.selectedObj.id()){b.graphedObjs[t].remove(),b.graphedObjs.splice(t,1);break}b.selectedObj=null,b.updateObjects(),b.updateText(),$(this).dialog("close")},No:function(){$(this).dialog("close")}},close:function(){$(this).remove()}})})),s.append($("<button type=button class='btn gt-button' data-tooltip='Clear All Objects From Graph'>Clear</button>").on("click",function(){this.blur(),0!=b.graphedObjs.length&&$("<div>Do you want to remove all graphed objects?</div>").dialog({title:"Clear Graph",width:"auto",height:"auto",modal:!0,resizable:!1,buttons:{Yes:function(){b.graphedObjs.forEach(function(t){t.remove()}),b.graphedObjs=[],b.selectedObj=null,b.selectTool.activate(),b.html_input.value="",$(this).dialog("close")},No:function(){$(this).dialog("close")}},close:function(){$(this).remove()}})})),r.append(s),$.widget.bridge("uitooltip",$.ui.tooltip),$(".gt-button").uitooltip({items:"[data-tooltip]",position:{my:"center top",at:"center bottom+5px"},show:{delay:1e3,effect:"none"},hide:{delay:0,effect:"none"},content:function(){var t=$(this);if(t.is("[data-tooltip]"))return t.attr("data-tooltip")}})}!function(){b.board=JXG.JSXGraph.initBoard(e+"_graph",i),b.board.suspendUpdate();var t=b.board.getBoundingBox();b.board.defaultAxes.x.point1.setPosition(JXG.COORDS_BY_USER,[t[0],0]),b.board.defaultAxes.x.point2.setPosition(JXG.COORDS_BY_USER,[t[2],0]),b.board.defaultAxes.y.point1.setPosition(JXG.COORDS_BY_USER,[0,t[3]]),b.board.defaultAxes.y.point2.setPosition(JXG.COORDS_BY_USER,[0,t[1]]),b.board.create("text",[function(){return b.board.getBoundingBox()[2]-3/b.board.unitX},function(){return 1.5/b.board.unitY},function(){return"\\(x\\)"}],{anchorX:"right",anchorY:"bottom",highlight:!1,color:"black",fixed:!0,useMathJax:!0}),b.board.create("text",[function(){return 4.5/b.board.unitX},function(){return b.board.getBoundingBox()[1]+2.5/b.board.unitY},function(){return"\\(y\\)"}],{anchorX:"left",anchorY:"top",highlight:!1,color:"black",fixed:!0,useMathJax:!0}),b.current_pos_text=b.board.create("text",[function(){return b.board.getBoundingBox()[2]-5/b.board.unitX},function(){return b.board.getBoundingBox()[3]+5/b.board.unitY},""],{anchorX:"right",anchorY:"bottom",fixed:!0}),b.board.highlightInfobox=function(t,e,o){return b.board.highlightCustomInfobox("",o)},b.isStatic||(b.board.on("move",function(t){var e=b.getMouseCoords(t);b.activeTool.updateHighlights(e)||b.selectedObj&&b.selectedObj.updateTextCoords(e)||b.setTextCoords(e.usrCoords[1],e.usrCoords[2])}),$(document).on("keydown.ToolDeactivate",function(t){"Escape"===t.key&&b.selectTool.activate()})),$(window).resize(function(t){b.board.canvasWidth==n.width()&&b.board.canvasHeight==n.height()||(b.board.resizeContainer(n.width(),n.height(),!0),b.graphedObjs.forEach(function(t){t.onResize()}),b.staticObjs.forEach(function(t){t.onResize()}))}),b.drawSolid=!0,b.graphedObjs=[],b.staticObjs=[],b.selectedObj=null,b.board.unsuspendUpdate()}(),"html_input"in b&&x(b.html_input.value,!1),"staticObjects"in t&&"string"==typeof t.staticObjects&&t.staticObjects.length&&x(t.staticObjects,!0),b.isStatic||(b.updateText(),b.activeTool=b.selectTool,b.activeTool.activate(!0))}function a(t){this.baseObj=t,(this.baseObj.gtGraphObject=this).definingPts={}}function p(t,e,o,i){a.call(this,b.board.create("line",[t,e],{fixed:!0,highlight:!1,strokeColor:i||"orange",dash:o?0:2})),this.definingPts.point1=t,this.definingPts.point2=e}function d(t,e,o,i){a.call(this,b.board.create("circle",[t,e],{fixed:!0,highlight:!1,strokeColor:i||"orange",dash:o?0:2})),this.definingPts.center=t,this.definingPts.point=e}function c(t,e,o){return o?(e.Y()-t.Y())/Math.pow(e.X()-t.X(),2):(e.X()-t.X())/Math.pow(e.Y()-t.Y(),2)}function l(e,o,i,t,r){return i?b.board.create("curve",[function(t){return t},function(t){return c(e,o,i)*Math.pow(t-e.X(),2)+e.Y()},function(){return b.board.getBoundingBox()[0]},function(){return b.board.getBoundingBox()[2]}],{strokeWidth:2,highlight:!1,strokeColor:r||"orange",dash:t?0:2}):b.board.create("curve",[function(t){return c(e,o,i)*Math.pow(t-e.Y(),2)+e.X()},function(t){return t},function(){return b.board.getBoundingBox()[3]},function(){return b.board.getBoundingBox()[1]}],{strokeWidth:2,highlight:!1,strokeColor:r||"orange",dash:t?0:2})}function u(t,e,o,i,r){a.call(this,l(t,e,o,i,r)),this.definingPts.vertex=t,this.definingPts.point=e,this.vertical=o}function h(t){t.setAttribute({visible:!1}),a.call(this,t),this.focused=!0,this.definingPts.point=t,this.updateTimeout=0,this.update();var r=this;this.definingPts.icon=b.board.create("image",[function(){return r.focused?b.fillIconFocused:b.fillIcon},[t.X()-12/b.board.unitX,t.Y()-12/b.board.unitY],[function(){return 24/b.board.unitX},function(){return 24/b.board.unitY}]],{withLabel:!1,highlight:!1,layer:9,name:"FillIcon"}),(this.definingPts.icon.gtGraphObject=this).definingPts.icon.point=t,this.isStatic=b.isStatic,b.isStatic||(this.on("down",function(){b.board.containerObj.style.cursor="none"}),this.on("up",function(){b.board.containerObj.style.cursor="auto"}),this.on("drag",function(t){var e=b.getMouseCoords(t),o=b.snapRound(e.usrCoords[1],b.snapSizeX),i=b.snapRound(e.usrCoords[2],b.snapSizeY);this.setPosition(JXG.COORDS_BY_USER,[o-12/b.board.unitX,i-12/b.board.unitY]),this.point.setPosition(JXG.COORDS_BY_USER,[o,i]),r.update(),b.updateText()}))}function f(t,e,o){this.button=$("<button type=button class='btn gt-button gt-tool-button gt-"+e+"-tool' data-tooltip='"+o+"'>&nbsp;</button>");var i=this;this.button.on("click",function(){i.activate()}),t.append(this.button),this.hlObjs={}}function g(t){f.call(this,t,"select","Object Selection Tool")}function y(t,e,o){f.call(this,t,e||"line",o||"Line Tool")}function O(t,e,o){f.call(this,t,e||"circle",o||"Circle Tool")}function j(t,e,o,i){f.call(this,t,o||(e?"vertical-parabola":"horizontal-parabola"),i||(e?"Vertical Parabola Tool":"Horizontal Parabola Tool")),this.vertical=e}function v(t,e,o){j.call(this,t,!0,e,o)}function C(t,e,o){j.call(this,t,!1,e,o)}function m(t,e,o){f.call(this,t,e||"fill",o||"Region Shading Tool")}function S(t){this.blur(),"solidButton"in b&&b.solidButton.prop("disabled",t.data.solid),"dashedButton"in b&&b.dashedButton.prop("disabled",!t.data.solid),b.selectedObj&&(b.selectedObj.setSolid(t.data.solid),b.updateText()),b.drawSolid=t.data.solid,b.activeTool.updateHighlights()}function x(t,e){b.board.suspendUpdate();var o=b.isStatic;b.isStatic=e;for(var i,r=/{(.*?)}/g;i=r.exec(t);){var n=a.restore(i[1]);!1!==n&&(e?b.staticObjs.push(n):b.graphedObjs.push(n))}b.isStatic=o,b.updateObjects(),b.board.unsuspendUpdate()}}Object.values||(Object.values=function(e){return Object.keys(e).map(function(t){return e[t]})});